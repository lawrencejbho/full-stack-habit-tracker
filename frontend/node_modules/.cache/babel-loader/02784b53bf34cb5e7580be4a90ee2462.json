{"ast":null,"code":"import { getMessaging, getToken } from \"firebase/messaging\"; // Import the functions you need from the SDKs you need\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\"; // TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD3-3ASB1BaUCVF7qK6ubeXdwvuEiYOpfo\",\n  authDomain: \"habit-tracker-cdec9.firebaseapp.com\",\n  projectId: \"habit-tracker-cdec9\",\n  storageBucket: \"habit-tracker-cdec9.appspot.com\",\n  messagingSenderId: \"678913149481\",\n  appId: \"1:678913149481:web:5ec8c374a0198f1daeaa38\",\n  measurementId: \"G-1S724J7JYN\"\n}; // Initialize Firebase\n// const analytics = getAnalytics(app);\n\nexport default function requestPermission() {\n  console.log(\"requesting permission\");\n  Notification.requestPermission().then(permission => {\n    if (permission === \"granted\") {\n      console.log(\"notification permission granted\");\n      const app = initializeApp(firebaseConfig);\n      const messaging = getMessaging(app);\n\n      async function getFCMToken() {\n        try {\n          const token = await getToken(messaging, {\n            vapidKey: \"BHf6XaPHDygvuWuH29gKdT79AtpeeSbvKU6iNbSKPBLw30PuBrVCakxFomq_wK_LHJ1_7LF6AjBt7h5cEBMFO7Y\"\n          });\n          console.log(token);\n          return token;\n        } catch (e) {\n          console.log(\"getFCMToken error\", e);\n          return undefined;\n        }\n      }\n    }\n  });\n}","map":{"version":3,"names":["getMessaging","getToken","initializeApp","getAnalytics","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","requestPermission","console","log","Notification","then","permission","app","messaging","getFCMToken","token","vapidKey","e","undefined"],"sources":["/home/lawrence/Projects/habit-tracker/frontend/src/pages/firebase.js"],"sourcesContent":["import { getMessaging, getToken } from \"firebase/messaging\";\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD3-3ASB1BaUCVF7qK6ubeXdwvuEiYOpfo\",\r\n  authDomain: \"habit-tracker-cdec9.firebaseapp.com\",\r\n  projectId: \"habit-tracker-cdec9\",\r\n  storageBucket: \"habit-tracker-cdec9.appspot.com\",\r\n  messagingSenderId: \"678913149481\",\r\n  appId: \"1:678913149481:web:5ec8c374a0198f1daeaa38\",\r\n  measurementId: \"G-1S724J7JYN\",\r\n};\r\n\r\n// Initialize Firebase\r\n// const analytics = getAnalytics(app);\r\n\r\nexport default function requestPermission() {\r\n  console.log(\"requesting permission\");\r\n  Notification.requestPermission().then((permission) => {\r\n    if (permission === \"granted\") {\r\n      console.log(\"notification permission granted\");\r\n\r\n      const app = initializeApp(firebaseConfig);\r\n      const messaging = getMessaging(app);\r\n\r\n      async function getFCMToken() {\r\n        try {\r\n          const token = await getToken(messaging, {\r\n            vapidKey:\r\n              \"BHf6XaPHDygvuWuH29gKdT79AtpeeSbvKU6iNbSKPBLw30PuBrVCakxFomq_wK_LHJ1_7LF6AjBt7h5cEBMFO7Y\",\r\n          });\r\n          console.log(token);\r\n          return token;\r\n        } catch (e) {\r\n          console.log(\"getFCMToken error\", e);\r\n          return undefined;\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,QAAvB,QAAuC,oBAAvC,C,CAEA;;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,YAAT,QAA6B,oBAA7B,C,CACA;AACA;AAEA;AACA;;AACA,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCADa;EAErBC,UAAU,EAAE,qCAFS;EAGrBC,SAAS,EAAE,qBAHU;EAIrBC,aAAa,EAAE,iCAJM;EAKrBC,iBAAiB,EAAE,cALE;EAMrBC,KAAK,EAAE,2CANc;EAOrBC,aAAa,EAAE;AAPM,CAAvB,C,CAUA;AACA;;AAEA,eAAe,SAASC,iBAAT,GAA6B;EAC1CC,OAAO,CAACC,GAAR,CAAY,uBAAZ;EACAC,YAAY,CAACH,iBAAb,GAAiCI,IAAjC,CAAuCC,UAAD,IAAgB;IACpD,IAAIA,UAAU,KAAK,SAAnB,EAA8B;MAC5BJ,OAAO,CAACC,GAAR,CAAY,iCAAZ;MAEA,MAAMI,GAAG,GAAGhB,aAAa,CAACE,cAAD,CAAzB;MACA,MAAMe,SAAS,GAAGnB,YAAY,CAACkB,GAAD,CAA9B;;MAEA,eAAeE,WAAf,GAA6B;QAC3B,IAAI;UACF,MAAMC,KAAK,GAAG,MAAMpB,QAAQ,CAACkB,SAAD,EAAY;YACtCG,QAAQ,EACN;UAFoC,CAAZ,CAA5B;UAIAT,OAAO,CAACC,GAAR,CAAYO,KAAZ;UACA,OAAOA,KAAP;QACD,CAPD,CAOE,OAAOE,CAAP,EAAU;UACVV,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCS,CAAjC;UACA,OAAOC,SAAP;QACD;MACF;IACF;EACF,CArBD;AAsBD"},"metadata":{},"sourceType":"module"}